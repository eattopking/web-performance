## 项目总结

### 一、课程二维码项目：

1. 踩到了数字上下居中的坑，对移动端适配，又有了进一步了解

### 二、Crm 项目

1. 首次使用 antd pro 脚手架，踩了配置的坑, 主里面有几个必须项, 首先 antd pro 依附于 umi, config 的配置就是 umi 的 config 的配置, antd pro 的 css 是 cssmodule 的形式的, antd pro 提供了几个一些复杂的业务组件, 可以 npm 安装使用, 在项目中提供了预置的 layouts(容器组件), pages(页面), components(组成组件)

2. 踩了 post 请求跨域的坑，(具体原因在收集问题的那里面写的全), 踩了 form 组合展示的坑(具体解决在收集问题的里面)
3. 踩了路由刷新的坑， 路由刷新 state 值就没有了, 只能通过 search 传的值才能保留
4. 自己第一次搭建了一个完整的项目, 知道了 nginx 服务是 web 的容器,
5. 首次使用了 g2 搞可视化，但是感觉有点不好用， 也是踩了一些坑， 现在是只能初始化设置了数据之后， 才能用 changedata 在更改数据， 不知道是不是我用的不对， 现在是这样， 有点不爽，还有就是图表需要 ajax 数据请求完毕在构建， 就是为了解决上面的问题，只能初始化设置了数据之后， 才能用 changedata 在更改数据， 这里感觉也是不太合理的

### 三、m站课堂首页配置平台开发，（pc配置页面和m的配置结果展示页面都开发了）
### 做可配置的页面， 就是自己确定-套模板，然后就维护这套模板，就行了
1. pc配置平台是分为三个部分， 组件选择区域， 预览区域， 右侧组件配置区域

2. pc配置平台是所见即所得的，保存后在m站显示的结果就是配置的结果

3. m站的展示也是根据自己确定的模板绘制的

4. pc配置平台在代码设置上也是可以配置的， 维护一套模板，控制页面的展示

5. 总结这种可以配置的界面， 所有东西尽量往模板里面放， 所有的配置字段， 使我们传的参数更少

6. 开发的时候要先写好静态页面， 然后在家逻辑， 不要磨蹭， 先快速搞完简单的， 然后在搞难的， 遇到超过两个小时的问题， 直接过， 之后在看

7. 踩到的坑， useState的setState对之当前的state值进行操作后更新， 要在使用setState((prev) => {
    // 要使用这种方式完成， 要不然就会有获取不到正确的值的问题
    return prev;
})

8. 实现拖拽排序， 可以使用 dragula 这个 npm 包

9. 经验,要将大块的， 重复的，封装成自定义hooks， 使用， 这样代码更好, 知道到了img的data-src 和src 配合实现图片的懒加载， data-src就是一个变量， 不会对图片有任何的影响

10. usememo 和 usecallback 要 看情况使用

11. 总结 要尽量整合到配置里面， 每一项所需要的属性， 这样就减少了props传递的数量, 设置元素的定位到
当前， 直接设置元素的focus就可以， 同时需要设置元素的tabIndex， 在设置同意元素的时候， 要先删除之前设置过的tabIndex属性，否则在次设置聚焦就不生效了

## 经验积累

### 一. 做项目的准备和步骤

1. 以后做项目，要自己理解需求， 然后根据需求设计完整的方案，根据方案写好逻辑注释，
2. 要全局， 把整个流程都捋通，把整个流程的注释都写好， 然后根据捋好的注释一气呵成完成开发，
3. 要不然开发都是迷糊的，漏洞百出， 这里的全局逻辑可以写在一个单独的文本文件中，具体的逻辑可以写在对应的组件文件中， 然后把这些东西整理成设计文档， 用于评审， 这样才能清晰的开发
4. 一定要看了要开发代码之后才能评估，需要的开发时间
5. 开发的时候要先写好静态页面， 然后在家逻辑， 不要磨蹭， 先快速搞完简单的， 然后在搞难的， 遇到超过两个小时的问题， 直接过， 之后在看
6. 开发之前一定要写技术文档， 写出需要用的技术， 和不知道用什么技术实现的， 和所用技术的难点
7. 一定要边开发， 边看需求文档确认
